{extends file="customers/customervoipaccountsbox.html"}

{block name="customervoipaccountsbox-list-columns"}
<COLGROUP>
        <COL style="width: 91%;">
        <COL style="width: 1%;" span="9">
        {assign var='number_of_table_columns' value='10'}
</COLGROUP>
{/block}

{block name="customervoipaccountsbox-list-header"}
<TR>
        <TD style="width: 91%;" class="bold nobr">{trans("Login:")}</TD>
        <TD style="width: 1%;" class="nobr">{trans("ID:")}</TD>
        <TD style="width: 1%;" class="nobr" colspan="2">{trans("Password:")}</TD>
        <TD style="width: 1%;" class="nobr">{t}IP address:{/t}</TD>
        <TD style="width: 1%;" class="nobr">{trans("Phone number:")}</TD>
        <TD style="width: 1%;" class="nobr">{trans("Tariff:")}</TD>
        <TD style="width: 1%;" class="nobr">{trans("Account state type")}:</TD>
        <TD style="width: 1%;" class="nobr">{trans("Absolute limit")}:</TD>
        <TD style="width: 1%;">&nbsp;</TD>
</TR>
{/block}

{block name="customervoipaccountsbox-list-row"}
<TR class="highlight {cycle name=voips}"  >
        <TD class="bold nobr" onclick="return self.location.href='?m=voipaccountinfo&amp;id={$voipaccount.id}'">
                {$voipaccount.login}
        </TD>
        <TD class="nobr" onclick="return self.location.href='?m=voipaccountinfo&amp;id={$voipaccount.id}'">
                ({$voipaccount.id|string_format:"%04d"})
        </TD>
        <TD class="nobr" colspan="2" onclick="return self.location.href='?m=voipaccountinfo&amp;id={$voipaccount.id}'">
                {if !ConfigHelper::checkConfig('privileges.hide_voip_passwords')}{$voipaccount.passwd}{else}{'*'|str_repeat:8}{/if}
        </TD>
        <TD onClick="return self.location.href='?m=voipaccountinfo&id={$voipaccountlist[voipaccountlist].id}';" valign="top" nowrap>
                {if $voipaccount.status.ip_address !== null && $voipaccount.status.port !== null}
                        {$voipaccount.status.ip_address}:{$voipaccount.status.port}
                {else}
                        {t}No data{/t}
                {/if}
        </TD>
        <TD class="nobr" onclick="return self.location.href='?m=voipaccountinfo&amp;id={$voipaccount.id}'">
                {if $voipaccount.status.status == 1}
                        <span style="color: green;">&#x25cf;</span>
                {else}
                        <span style="color: red;">&#x25cf;</span>
                {/if}
                {$voipaccount.phone}
        </TD>
        <TD class="nobr" onclick="return self.location.href='?m=voipaccountinfo&amp;id={$voipaccount.id}'">
                {$voipaccount.tariff.name}
        </TD>
        <TD NOWRAP onclick="return self.location.href='?m=voipaccountinfo&id={$voipaccount.id}'">
                {if $voipaccount.account_state_type !== null}
                    <B>{if $voipaccount.account_state_type}{t}Yes{/t}{else}{t}No{/t}{/if}</B>
                {else}
                    <B>{t}No data{/t}</B>
                {/if}
        </TD>
        <TD NOWRAP onclick="return self.location.href='?m=voipaccountinfo&id={$voipaccount.id}'">
            {if $voipaccount.absolute_limit !== null}
                {$voipaccount.absolute_limit|money_format}
            {else}
                {t}No data{/t}
            {/if}
        </TD>
        <TD class="text-right nobr">
                <a href="?m=voipaccountset&id={$voipaccount.id}"><img src="img/{if ! $voipaccount.access}no{/if}access.gif" alt="[ {if ! $voipaccount.access}{trans("Connect")}{else}{trans("Disconnect")}{/if} ]" title="[ {if ! $voipaccount.access}{trans("Connect")}{else}{trans("Disconnect")}{/if} ]"></A>
                <A onClick="return confirmLink(this, '{trans("Are you sure, you want to remove customer voip account?")}')" href="?m=voipaccountdel&amp;id={$voipaccount.id}"><IMG src="img/delete.gif" alt="[ {trans("Delete")} ]" title="[ {trans("Delete")} ]"></A>
                <A href="?m=voipaccountedit&amp;id={$voipaccount.id}"><IMG src="img/edit.gif" alt="[ {trans("Edit")} ]" title="[ {trans("Edit")} ]"></A>
                <A href="?m=voipaccountinfo&amp;id={$voipaccount.id}"><IMG src="img/info.gif" alt="[ {trans("Info")} ]" title="[ {trans("Info")} ]"></A>
                <A HREF="?m=billinglist&id={$customerinfo.id}&phone={$voipaccount.phone}&reset=1"><IMG SRC="img/payment.gif" ALT="[ {t}Billing{/t} ]" TITLE="[ {t}Billing{/t} ]"></A>
                <a href="?m=voipaccountprint&id={$voipaccount.id}" target="_blank"><img src="img/print.gif" alt="[ {t}Info{/t} ]" title="[ {t}Print{/t} ]"></A>
                {if $voipaccount.is_prepaid}
                <A HREF="?m=voipaccountrechargeprepaid&id={$voipaccount.id}"><IMG SRC="img/value.gif" ALT="[ {t}Recharge prepaid{/t} ]" TITLE="[ {t}Recharge prepaid{/t} ]"></A>
                {/if}
        </TD>
</TR>
{/block}