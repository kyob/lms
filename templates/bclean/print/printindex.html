{extends file="layout.html"}
{block name=title}::: LMS :{$layout.pagetitle|striphtml} :::{/block}
{block name=module_content}
    <!--// $Id$ //-->
    <H1>{$layout.pagetitle}</H1>
        {include file="calendar_js.html"}
        {$default_printpage = ConfigHelper::getConfig('invoices.default_printpage')}
        {if $printmenu=="customer"}
        <FORM class="form-inline" method="POST" name="printcustomerlist" id="printcustomerlist" action="?m=customerprint&amp;type=customerlist">
            <INPUT type="submit" class="hiddenbtn">

            <div class="card">
                <div class="card-header">
                    {trans("Customers List:")}
                </div>
                <div class="card-block">
                    {trans("Status:")}
                    <SELECT class="form-control form-contol-sm" name="filter" {tip text="Select customer's group"}>
                        <OPTION value="0">- {trans("all<!customers>")} -</OPTION>
                            {foreach $_CSTATUSES as $statusidx => $status}
                            <OPTION value="{$statusidx}"{if $statusidx == $smarty.const.CSTATUS_CONNECTED} selected{/if}>{$status.plurallabel}</OPTION>
                            {/foreach}
                        <option value="51">{trans("with disconnected nodes")}</option>
                        <option value="52">{trans("in debt")}</option>
                        <option value="57">{trans("in debt above 100%")}</option>
                        <option value="58">{trans("in debt above 200%")}</option>
                        <option value="59">{trans("without contracts")}</option>
                        <option value="60">{trans("with expired contracts")}</option>
                        <option value="61">{trans("with expiring contracts")}</option>
                        <option value="-1">{trans("without nodes")}</option>
                    </select>

                    <hr>

                    <div class="form-group">
                        {trans("Division")}:
                        <select class="form-control form-contol-sm" name="division" {tip text="Select division"}>
                            <option value="0">- {trans("all")} -</option>
                            {foreach from=$divisions item=item}
                                <option value="{$item.id}">{$item.shortname}</option>
                            {/foreach}
                        </select>

                        {trans("Legal personality:")}
                        <SELECT class="form-control form-contol-sm" name="type" {tip text="Select legal personality type"}>
                            <OPTION value="" selected>{trans("- all -")}</OPTION>
                            <OPTION value="{$smarty.const.CTYPES_PRIVATE}">{assign var='type' value=$smarty.const.CTYPES_PRIVATE}{$_CTYPES.$type}</OPTION>
                            <OPTION value="{$smarty.const.CTYPES_COMPANY}">{assign var='type' value=$smarty.const.CTYPES_COMPANY}{$_CTYPES.$type}</OPTION>
                        </SELECT>

                        {trans("Country state:")}
                        <SELECT class="form-control form-contol-sm" name="stateid" {tip text="Select country state"}>
                            <OPTION value="0">{trans("- all states -")}</OPTION>
                                {foreach from=$cstateslist item=item key=key}
                                <OPTION value="{$key}">{$item.name}</OPTION>
                                {/foreach}
                        </SELECT>
                    </div>

                    <hr>

                    <div class="form-group">
                        <label for="linkType">{trans("Link type:")}</label>
                        <SELECT class="form-control form-contol-sm" name="linktype" id="linkType" {tip text="Select link type"}>
                            <OPTION value="">{trans("- all -")}</OPTION>
                                {foreach from=$_LINKTYPES item=item key=key}
                                <OPTION value="{$key}">{$item}</OPTION>
                                {/foreach}
                        </SELECT>

                        <label for="linkSpeed">{trans("Link speed:")}</label>
                        <SELECT class="form-control form-contol-sm" name="linkspeed" id="linkSpeed" {tip text="Select link speed"}>
                            <OPTION value="">{trans("- all -")}</OPTION>
                                {foreach from=$_LINKSPEEDS item=item key=key}
                                <OPTION value="{$key}">{$item}</OPTION>
                                {/foreach}
                        </SELECT>
                    </div>

                    <hr>

                    {trans("Network:")}
                    <SELECT class="form-control form-contol-sm" name="network" {tip text="Select network"}>
                        <OPTION value="0" selected>{trans("- all networks -")}</OPTION>
                            {section name="networks" loop=$networks}
                            <OPTION value="{$networks[networks].id}">{$networks[networks].name|truncate:40:"...":true}</OPTION>
                            {/section}
                    </SELECT>

                    <hr>

                    <div class="form-group">
                        {trans("Group:")}
                        <SELECT class="form-control form-contol-sm" name="customergroup" {tip text="Select group"}>
                            <OPTION value="0" selected>{trans("- all groups -")}</OPTION>
                                {section name="customergroups" loop=$customergroups}
                                <OPTION value="{$customergroups[customergroups].id}">{$customergroups[customergroups].name|truncate:40:"...":true}</OPTION>
                                {/section}
                        </SELECT>

                        {trans("Nodes Group:")}
                        <SELECT class="form-control form-contol-sm" name="nodegroup" {tip text="Select group"}>
                            <OPTION value="" selected>{trans("- all groups -")}</OPTION>
                                {foreach from=$nodegroups item=nodegroup}
                                <OPTION value="{$nodegroup.id}">{$nodegroup.name|truncate:30:"...":true}</OPTION>
                                {/foreach}
                        </SELECT>
                    </div>

                    <hr>

                    {trans("Sorting:")}
                    <SELECT class="form-control form-contol-sm"  name="order">
                        <OPTION value="customername" selected>{trans("First/last or Company name")}</OPTION>
                        <OPTION value="id">{trans("Id")}</OPTION>
                        <OPTION value="balance">{trans("Balance")}</OPTION>
                        <OPTION value="tariff">{trans("Subscription")}</OPTION>
                        <OPTION value="address">{trans("Address")}</OPTION>
                    </SELECT>

                    <SELECT class="form-control form-contol-sm" name="direction">
                        <OPTION value="asc" selected>{trans("ascending")}</OPTION>
                        <OPTION value="desc">{trans("descending")}</OPTION>
                    </SELECT>

                    <hr>

                    {trans("Balance date:")}
                    <INPUT class="form-control form-contol-sm" type="text" name="day" size="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format or click to choose it from calendar"}>

                    <hr>

                    {trans("With document of type:")}
                    <SELECT class="form-control form-contol-sm" name="doctype" {tip text="Select document type"}>
                        <OPTION value="0">{trans("- all -")}</OPTION>
                            {foreach from=$_DOCTYPES key=key item=item}
                            <OPTION value="{$key}">{$item}</OPTION>
                            {/foreach}
                    </SELECT>

                    <hr>

                    {trans("in date:")}
                    {trans("From")}&nbsp;<INPUT class="form-control form-contol-sm" type="text" name="docfrom" size="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format or click to choose it from calendar"}>
                    {trans("To")}&nbsp;<INPUT class="form-control form-contol-sm" type="text" name="docto" size="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format or click to choose it from calendar"}>

                    <hr>

                    <A class="btn btn-sm btn-secondary" href="javascript:document.printcustomerlist.target='_blank';document.printcustomerlist.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" style="margin: 0px 2px;"></A>

                </div>
            </div>
        </FORM>
    {/if}

    {if $printmenu=="finances"}
        <FORM class="form-inline" method="post" name="printbalancelist" id="printbalancelist" action="?m=print&type=balancelist">
            <INPUT type="submit" class="hiddenbtn">

            <div class="card">
                <div class="card-header">
                    {trans("Network Balance Sheet")}
                </div>
                <div class="card-block">
                    {trans("User:")}
                    <SELECT class="form-control form-contol-sm" name="user" {tip text="You can select user to limit results"}>
                        <OPTION value="">{trans("- all users -")}</OPTION>
                            {section name="users" loop=$users}
                            <OPTION value="{$users[users].id}">{$users[users].name|truncate:40:"...":true}</OPTION>
                            {/section}
                    </SELECT>

                    {trans("Network:")}</B>
                    <SELECT size="1" name="network" {tip text="Select network"}>
                        <OPTION value="0" SELECTED>{trans("- all networks -")}</OPTION>
                            {section name="networks" loop=$networks}
                            <OPTION value="{$networks[networks].id}">{$networks[networks].name|truncate:40:"...":true}</OPTION>
                            {/section}
                    </SELECT>

                    {trans("Division")}:
                    <SELECT size="1" name="division" {tip text="Select division"}>
                        <OPTION value="0">- {trans("all")} -</OPTION>
                            {foreach from=$divisions item=item}
                            <OPTION value="{$item.id}">{$item.shortname}</OPTION>
                            {/foreach}
                    </SELECT>


                    {trans("Group:")}
                    <SELECT size="1" name="customergroup" {tip text="Select group"}>
                        <OPTION value="0" SELECTED>{trans("- all groups -")}</OPTION>
                            {section name="customergroups" loop=$customergroups}
                            <OPTION value="{$customergroups[customergroups].id}">{$customergroups[customergroups].name|truncate:40:"...":true}</OPTION>
                            {/section}
                    </SELECT>

                    {trans("Transaction type:")}
                    <SELECT name="types[]" id="balancelisttype" {tip text="Select transaction type"} multiple>
                        <OPTION value="1">{trans("Liability")}</OPTION>
                        <OPTION value="2">{trans("Income")}</OPTION>
                        <OPTION value="3">{trans("Expense")}</OPTION>
                    </SELECT>

                    {trans("Documents:")}</B>
                    <SELECT size="1" name="docs" {tip text="Select transaction type"}>
                        <OPTION value="">{trans("- all -")}</OPTION>
                        <OPTION value="documented">{trans("with document")}</OPTION>
                        <OPTION value="notdocumented">{trans("without document")}</OPTION>
                    </SELECT>

                    {trans("Source:")}
                    <SELECT size="1" name="source" {tip text="You can select import source to limit results"}>
                        <OPTION value="0">{trans("- all sources -")}</OPTION>
                        <OPTION value="-1">- {trans("none")} -</OPTION>
                            {foreach from=$sourcelist item=item}
                            <OPTION value="{$item.id}">{$item.name}</OPTION>
                            {/foreach}
                    </SELECT>

                    {trans("Period:")}</span>
                    {trans("From")}&nbsp;<INPUT type="text" name="balancefrom" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format or click to choose it from calendar"}>
                    {trans("To")}&nbsp;<INPUT type="text" name="balanceto" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>

                    <A href="javascript:document.printbalancelist.target='_blank';document.printbalancelist.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" hspace="2"></A>

                </div>
            </div>
        </FORM>
        <SCRIPT type="text/javascript">
            <!--
        multiselect('printbalancelist', 'balancelisttype', '{trans("- all types -")}');
            //-->
        </SCRIPT>
    {/if}
    {if ($printmenu=="customer" || $printmenu=="finances") && (ConfigHelper::checkConfig('privileges.superuser') || !ConfigHelper::checkConfig('privileges.hide_finances'))}
        <FORM class="form-inline" method="post" name="printcustomerbalance" id="printcustomerbalance" action="?m=print&amp;type=customerbalance">
            <INPUT type="submit" class="hiddenbtn">
            <div class="card">
                <div class="card-header">
                    {trans("Customer Balance Sheet")}
                </div>
                <div class="card-block">
                    {trans("Customer:")}
                    {customerlist form="printcustomerbalance" customers=$customers selectname="cust" inputname="customer" firstoption=""}

                    {trans("Period:")}
                    {trans("From")}&nbsp;<INPUT class="form-control form-contol-sm" type="text" name="from" size="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means 1970/01/01) or click to choose it from calendar"}>
                    {trans("To")}&nbsp;<INPUT class="form-control form-contol-sm" type="text" name="to" size="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>


                    <A class="btn btn-sm btn-secondary" href="javascript:document.printcustomerbalance.target='_blank';document.printcustomerbalance.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" style="margin: 0px 2px;"></A>
                </div>
            </div>
        </FORM>
    {/if}
    {if $printmenu=="finances"}
        <FORM method="post" name="invoicereport" id="invoicereport" action="?m=invoicereport">
            <INPUT type="submit" class="hiddenbtn">
            <div class="card">
                <div class="card-header">
                    {trans("Sale Registry")}
                </div>
                <div class="card-block">
                    {trans("Division")}:
                    <SELECT size="1" name="division" {tip text="Select division"}>
                        <OPTION value="0">- {trans("all")} -</OPTION>
                            {foreach from=$divisions item=item}
                            <OPTION value="{$item.id}">{$item.shortname}</OPTION>
                            {/foreach}
                    </SELECT>          
                    
                    {trans("Group:")}
                    <SELECT size="4" name="group[]" multiple id="invoicereportgroup" {tip text="Select group"}>
                        {section name="customergroups" loop=$customergroups}
                            <OPTION value="{$customergroups[customergroups].id}">{$customergroups[customergroups].name|truncate:30:"...":true}</OPTION>
                            {/section}
                    </SELECT>
                    <INPUT type="checkbox" name="groupexclude" id="invoicereport-groupexclude" {if $listdata.groupexclude} CHECKED{/if}><label for="invoicereport-groupexclude">{trans("exclude group")}</label>

                    {trans("Plan:")}
                    <SELECT name="numberplanid[]" id="numberplanid" style="min-width: 200px;" {tip text="Select numbering plan"} multiple>
                        <OPTION value="0">- {trans("all")} -</OPTION>
                            {foreach item=plan from=$numberplans}
                                {assign var=period value=$plan.period}
                            <OPTION value="{$plan.id}">{number number=$plan.next template=$plan.template time=$invoice.cdate} ({$_NUM_PERIODS.$period})</OPTION>
                            {/foreach}
                    </SELECT>

                    {trans("Period:")}
                    {trans("From")}&nbsp;<INPUT type="text" name="from" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>
                    {trans("To")}&nbsp;<INPUT type="text" name="to" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>


                    {trans("by date")}:
                    <SELECT name="datetype" {tip text="Select date type"}>
                        <OPTION value="cdate">{trans("Draw-up date")}</OPTION>
                        <OPTION value="sdate">{trans("Sale date")}</OPTION>
                        <OPTION value="pdate">{trans("Deadline")}</OPTION>
                    </SELECT>

                    {trans("Type:")}
                    <SELECT name="doctype" {tip text="Select document type"}>
                        <OPTION value="invoices">{trans("invoices")}</OPTION>
                        <OPTION value="notes">{trans("debit notes")}</OPTION>
                    </SELECT>

                    <input type="checkbox" name="extended" value="1" id="invoicereport-extended"><label for="invoicereport-extended">{trans("extended format")}</label>

                    <A href="javascript:document.invoicereport.target='_blank';document.invoicereport.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" hspace="2"></A>
                </div>
            </div>
        </FORM>
        <SCRIPT type="text/javascript">
            <!--
        multiselect('invoicereport', 'invoicereportgroup', '{trans("- all groups -")}');
            multiselect('invoicereport', 'numberplanid', '{trans("all")}');
            //-->
        </SCRIPT>

    {/if}
    {if $printmenu=="finances"}
        <FORM method="post" name="printreceiptlist" id="printreceiptlist" action="?m=print&type=receiptlist">
            <INPUT type="submit" class="hiddenbtn">
            <div class="card">
                <div class="card-header">
                    {trans("Cash Report")}
                </div>
                <div class="card-block">
                    {trans("Registry:")}
                    <SELECT SIZE="1" name="registry" {tip text="Select cash registry"}>
                        <OPTION value="0">{trans("- all -")}</OPTION>
                            {foreach from=$cashreglist item=c}
                            <OPTION value="{$c.id}">{$c.name|truncate:40:"...":true} ({$c.id|string_format:"%04d"})</OPTION>
                            {/foreach}
                    </SELECT>

                    {trans("Group:")}
                    <SELECT size="1" name="group">
                        <OPTION value="0" SELECTED>{trans("- all groups -")}</OPTION>
                            {section name="customergroups" loop=$customergroups}
                            <OPTION value="{$customergroups[customergroups].id}">{$customergroups[customergroups].name|truncate:30:"...":true}</OPTION>
                            {/section}
                    </SELECT>
                    <INPUT type="checkbox" name="groupexclude" id="receiptlist-groupexclude" {if $listdata.groupexclude} CHECKED{/if}><label for="receiptlist-groupexclude">{trans("exclude group")}</label>

                    {trans("User:")}
                    <SELECT size="1" name="user" {tip text="You can select user to limit results"}>
                        <OPTION value="">{trans("- all users -")}</OPTION>
                            {section name="users" loop=$users}
                            <OPTION value="{$users[users].id}">{$users[users].name|truncate:40:"...":true}</OPTION>
                            {/section}
                    </SELECT>

                    {trans("Period:")}
                    {trans("From")}&nbsp;<INPUT type="text" name="from" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>
                    {trans("To")}&nbsp;<INPUT type="text" name="to" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>

                    <input type="checkbox" name="extended" value="1" id="receiptlist-extended"><label for="receiptlist-extended">{trans("extended format")}</label>


                    <A href="javascript:document.printreceiptlist.target='_blank';document.printreceiptlist.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" hspace="2"></A>
                </div>
            </div>
        </FORM>
    {/if}
    {if $printmenu=="finances"}
        <FORM method="post" name="printinvoices" id="printinvoices" action="?m=print&type=invoices">
            <INPUT type="submit" class="hiddenbtn">
            <SCRIPT type="text/javascript">
                <!--
                    function print()
                {
                    document.printinvoices.action = "?m=print&type=invoices";
                    document.printinvoices.target = '_blank';
                    document.printinvoices.submit();
                }

                function print_forms()
                {
                    document.printinvoices.action = "?m=print&type=transferforms&kind=1";
                    document.printinvoices.target = '_blank';
                    document.printinvoices.submit();
                }
                //-->
            </SCRIPT>
            <div class="card">
                <div class="card-header">
                    {trans("Invoices")}
                </div>
                <div class="card-block">
                    {trans("Customer:")}
                    {customerlist form="printinvoices" customers=$customers selectname="cust" inputname="customer" firstoption="- all customers -" selecttip="You can select customer to limit results" inputtip="Enter customer ID or leave empty for all customers"}                            
                    
                    {trans("Group:")}
                    <SELECT size="1" name="group">
                        <OPTION value="0" SELECTED>{trans("- all groups -")}</OPTION>
                            {section name="customergroups" loop=$customergroups}
                            <OPTION value="{$customergroups[customergroups].id}">{$customergroups[customergroups].name|truncate:30:"...":true}</OPTION>
                            {/section}
                    </SELECT>
                    <INPUT type="checkbox" name="groupexclude" id="invoices-groupexclude" {if $listdata.groupexclude} CHECKED{/if}><label for="invoices-groupexclude">{trans("exclude group")}</label>

                    {trans("Plan:")}
                    <SELECT name="numberplan" {tip text="Select numbering plan"}>
                        <OPTION value="0">- {trans("all")} -</OPTION>
                            {foreach item=plan from=$numberplans}
                                {assign var=period value=$plan.period}
                            <OPTION value="{$plan.id}">{number number=$plan.next template=$plan.template time=$invoice.cdate} ({$_NUM_PERIODS.$period})</OPTION>
                            {/foreach}
                    </SELECT>

                    {trans("Period:")}
                    {trans("From")}&nbsp;<INPUT type="text" name="invoicefrom" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>
                    {trans("To")}&nbsp;<INPUT type="text" name="invoiceto" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>


                    <INPUT type="checkbox" name="invoiceorg" ID="invoiceorg"{if preg_match('/original/i', $default_printpage)} CHECKED{/if}>&nbsp;<label for="invoiceorg">{trans("original")}</label>&nbsp;
                    <INPUT type="checkbox" name="invoicecopy" ID="invoicecopy"{if preg_match('/copy/i', $default_printpage)}  CHECKED{/if}>&nbsp;<label for="invoicecopy">{trans("copy")}</label>&nbsp;
                    <INPUT type="checkbox" name="invoicedup" ID="invoicedup"{if preg_match('/duplicate/i', $default_printpage)} CHECKED{/if}>&nbsp;<label for="invoicedup">{trans("duplicate")}</label>


                    <input type="checkbox" id="autoissued" name="autoissued">
                    <label for="autoissued">{trans("only automatically issued")}</label>


                    <A href="javascript:print_forms();">{trans("Print form of cash transfer")} <IMG src="img/print.gif" alt="" hspace="2"></A>
                    <A href="javascript:print();">{trans("Print")} <IMG src="img/print.gif" alt="" hspace="2"></A>
                </div>
            </div>
        </FORM>

    {/if}
    {if $printmenu=="finances"}
        <FORM method="post" name="printforms" id="printforms" action="?m=print&type=transferforms&kind=2">
            <INPUT type="submit" class="hiddenbtn">
            <div class="card">
                <div class="card-header">
                    {trans("Transfer forms")}
                </div>
                <div class="card-block">
                    {trans("Customer:")}
                    {customerlist form="printforms" customers=$customers selectname="cust" inputname="customer" firstoption="- all customers -" selecttip="You can select customer to limit results" inputtip="Enter customer ID or leave empty for all customers"}

                    {trans("Group:")}
                    <SELECT size="1" name="customergroup">
                        <OPTION value="0" SELECTED>{trans("- all groups -")}</OPTION>
                            {section name="customergroups" loop=$customergroups}
                            <OPTION value="{$customergroups[customergroups].id}">{$customergroups[customergroups].name|truncate:30:"...":true}</OPTION>
                            {/section}
                    </SELECT>
                    <INPUT type="checkbox" name="groupexclude" id="printforms-groupexclude" {if $listdata.groupexclude} CHECKED{/if}><label for="printforms-groupexclude">{trans("exclude group")}</label>

                    {trans("Balance:")}</B>&nbsp;<INPUT type="text" name="balance" SIZE="10" {tip text="Enter balance limit (default 0)"}>


                    <A href="javascript:document.printforms.target='_blank';document.printforms.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" hspace="2"></A>
                </div>
            </div>
        </FORM>

    {/if}
    {if $printmenu=="incomereport" || $printmenu=="finances"}
        <FORM method="post" name="printincomereport" id="printincomereport" action="?m=print&type=incomereport">
            <INPUT type="submit" class="hiddenbtn">
            <div class="card">
                <div class="card-header">
                    {trans("Total Invoiceless Income")}
                </div>
                <div class="card-block">
                    {trans("Period:")}
                    {trans("From")}&nbsp;<INPUT type="text" name="from" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format or click to choose it from calendar"}>
                    {trans("To")}&nbsp;<INPUT type="text" name="to" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>

                    <A href="javascript:document.printincomereport.target='_blank';document.printincomereport.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" hspace="2"></A>
                </div>
            </div>
        </FORM>

    {/if}
    {if ($printmenu=="customer" || $printmenu=="finances") && (ConfigHelper::checkConfig('privileges.superuser') || !ConfigHelper::checkConfig('privileges.hide_finances'))}
        <FORM method="post" name="liabilityreport" id="liabilityreport" action="?m=print&amp;type=liabilityreport">
            <INPUT type="submit" class="hiddenbtn">
            <div class="card">
                <div class="card-header">
                    {trans("Liability Report")}
                </div>
                <div class="card-block">
                    {trans("Customer:")}
                    {customerlist form="liabilityreport" customers=$customers selectname="cust" inputname="customer" firstoption="- all customers -" inputtip="Enter customer ID or leave empty for all customers"}

                    {trans("Day:")}
                    <INPUT type="text" name="day" size="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>

                    {trans("Sorting:")}
                    <SELECT size="1" name="order">
                        <OPTION value="customername" selected>{trans("First/last or Company name")}</OPTION>
                        <OPTION value="grossvalue">{trans("Gross value")}</OPTION>
                    </SELECT>

                    <SELECT SIZE="1" name="direction">
                        <OPTION value="asc" selected>{trans("ascending")}</OPTION>
                        <OPTION value="desc">{trans("descending")}</OPTION>
                    </SELECT>

                    <A href="javascript:document.liabilityreport.target='_blank';document.liabilityreport.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" style="margin: 0px 2px;"></A>
                </div>
            </div>
        </FORM>
    {/if}
    {if $printmenu=="finances"}
        <FORM method="post" name="printimportlist" id="printimportlist" action="?m=print&type=importlist">
            <INPUT type="submit" class="hiddenbtn">
            <div class="card">
                <div class="card-header">
                    {trans("Cash Import History")}
                </div>
                <div class="card-block">
                    {trans("Source:")}
                    <SELECT size="1" name="source" {tip text="You can select import source to limit results"}>
                        <OPTION value="0">{trans("- all sources -")}</OPTION>
                            {foreach from=$sourcelist item=item}
                            <OPTION value="{$item.id}">{$item.name}</OPTION>
                            {/foreach}
                    </SELECT>

                    {trans("Period:")}
                    {trans("From")}&nbsp;<INPUT type="text" name="importfrom" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format or click to choose it from calendar"}>
                    {trans("To")}&nbsp;<INPUT type="text" name="importto" SIZE="10" maxlength="10" placeholder="{trans("yyyy/mm/dd")}" {tip class="calendar" text="Enter date in 'yyyy/mm/dd' format (empty field means current date) or click to choose it from calendar"}>

                    <A href="javascript:document.printimportlist.target='_blank';document.printimportlist.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" hspace="2"></A>
                </div>
            </div>
        </FORM>
    {/if}
    {if $printmenu=="node"}
        <FORM method="post" name="printnodelist" id="printnodelist" action="?m=nodeprint&type=nodelist">
            <INPUT type="submit" class="hiddenbtn">
            <div class="card">
                <div class="card-header">
                    {trans("Nodes List")}
                </div>
                <div class="card-block">
                    {trans("Status:")}
                    <INPUT class="radio light" type="radio" id="nodelist-all" name="filter" value="0" CHECKED><label for="nodelist-all">{trans("all")}</label>
                    <INPUT class="radio light" type="radio" id="nodelist-connected" name="filter" value="1"><label for="nodelist-connected">{trans("connected<!plural:item>")}</label>
                    <INPUT class="radio light" type="radio" id="nodelist-disconnected" name="filter" value="2"><label for="nodelist-disconnected">{trans("disconnected<!plural:item>")}</label>
                    <INPUT class="radio light" type="radio" id="nodelist-indebt" name="filter" value="3"><label for="nodelist-indebt">{trans("indebted owner")}</label>

                    {trans("Network:")}
                    <SELECT size="1" name="network" {tip text="Select network"}>
                        <OPTION value="0" SELECTED>{trans("- all networks -")}</OPTION>
                            {section name="networks" loop=$networks}
                            <OPTION value="{$networks[networks].id}">{$networks[networks].name|truncate:40:"...":true}</OPTION>
                            {/section}
                    </SELECT>

                    {trans("Group:")}
                    <SELECT size="1" name="customergroup" {tip text="Select group"}>
                        <OPTION value="0" SELECTED>{trans("- all groups -")}</OPTION>
                            {section name="customergroups" loop=$customergroups}
                            <OPTION value="{$customergroups[customergroups].id}">{$customergroups[customergroups].name|truncate:40:"...":true}</OPTION>
                            {/section}
                    </SELECT>

                    {trans("Sorting:")}
                    <SELECT SIZE="1" name="order">
                        <OPTION value="name" SELECTED>{trans("Name")}</OPTION>
                        <OPTION value="id">{trans("Id")}</OPTION>
                        <OPTION value="owner">{trans("Customer name")}</OPTION>
                        <OPTION value="ownerid">{trans("Customer ID")}</OPTION>
                        <OPTION value="ip">{trans("IP address")}</OPTION>
                        <OPTION value="mac">{trans("MAC address")}</OPTION>
                    </SELECT>

                    <SELECT SIZE="1" name="direction">
                        <OPTION value="asc" SELECTED>{trans("ascending")}</OPTION>
                        <OPTION value="desc">{trans("descending")}</OPTION>
                    </SELECT>

                    <A href="javascript:document.printnodelist.target='_blank';document.printnodelist.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" hspace="2"></A>
                </div>
            </div>
        </FORM>
    {/if}
    {if $printmenu=="traffic" || $printmenu=="customer"}
        <FORM method="post" name="printcustomertraffic" id="printcustomertraffic"  action="?m=trafficprint&amp;type=customertraffic">
            <INPUT type="submit" class="hiddenbtn">
            <TABLE class="lmsbox">
                <THEAD>
                    <TR>
                        <TD style="width: 1%;">
                            <IMG src="img/traffic.gif" alt="">
                        </TD>
                        <TD style="width: 99%;" class="bold">
                            {trans("Stats")}
                        </TD>
                    </TR>
                </THEAD>
                <TBODY>
                    <TR>
                        <TD style="width: 100%;" class="container" colspan="2">
                            <TABLE width="100%" cellpadding="3">
                                <TR>
                                    <TD style="width: 1%;">
                                        <IMG src="img/customer.gif" alt="">
                                    </TD>
                                    <TD style="width: 1%;" class="bold nobr">
                                        {trans("Customer:")}
                                    </TD>
                                    <TD style="width: 1%;" class="nobr">
                                        {customerlist form="printcustomertraffic" customers=$customers selectname="cust" inputname="customer" firstoption=""}
                                    </TD>
                                    <TD style="width: 1%;">
                                        <IMG src="img/calendar.gif" alt="">
                                    </TD>
                                    <TD style="width: 1%;" class="bold">
                                        {trans("Year:")}
                                    </TD>
                                    <TD style="width: 1%;">
                                        <SELECT size="1" name="year" {tip text="Select period"}>
                                            {foreach item=year from=$statyears}
                                                <OPTION value="{$year}"{if $year == $curryear} selected{/if}>{$year}</OPTION>
                                                {/foreach}
                                        </SELECT>
                                    </TD>
                                    <TD style="width: 1%;" class="bold">
                                        {trans("Month:")}
                                    </TD>
                                    <TD style="width: 1%;">
                                        <SELECT size="1" name="month" {tip text="Select period"}>
                                            {foreach item=month key=id from=$months}
                                                <OPTION value="{$id}"{if $id == $currmonth} selected{/if}>{$month}</OPTION>
                                                {/foreach}
                                        </SELECT>
                                    </TD>
                                    <TD style="width: 92%;"></TD>
                                </TR>
                            </TABLE>
                        </TD>
                    </TR>
                    <TR>
                        <TD style="width: 100%;" class="text-right" colspan="2">
                            <A href="javascript:document.printcustomertraffic.target='_blank';document.printcustomertraffic.submit();">{trans("Print")} <IMG src="img/print.gif" alt="" style="margin: 0px 2px;"></A>
                        </TD>
                    </TR>
                </TBODY>
            </TABLE>
        </FORM>
    {/if}
    {if $printmenu=="netdev"}
        <P><FORM method="post" name="printnetdev" id="printnetdev" action="?m=netdevprint&type=uke">
            <INPUT type="submit" class="hiddenbtn">
            <TABLE class="lmsbox">
                <THEAD>
                    <TR>
                        <TD style="width: 100%;" colspan="2" class="bold">
                            <IMG src="img/netdev.gif" alt=""> {trans("UKE report")}
                        </TD>
                    </TR>
                </THEAD>
                <TBODY>
                    <TR>
                        {*
                        <TD class="fleft container" style="width: 1%;">
                        <TABLE width="100%" cellpadding="3">
                        <TR>
                        <TD style="width: 1%;">
                        <IMG src="img/money.gif" alt="">
                        </TD>
                        <TD style="width: 1%;" class="bold nobr">
                        {trans("Investment project:")}
                        </TD>
                        <TD style="width: 98%;">
                        {if $invprojects}
                        <SELECT name="invprojects[]" id="invprojects" {tip text="Select investment projects"} multiple>
                        {foreach $invprojects as $invproject}
                        <OPTION value="{$invproject.id}">{$invproject.name}</OPTION>
                        {/foreach}
                        </SELECT>
                        {else}
                        {trans("all")}
                        <INPUT type="hidden" name="invprojects" value="0">
                        {/if}
                        </TD>
                        </TR>
                        </TABLE>
                        </TD>
                        *}
                        <TD class="fleft container" style="width: 1%;">
                            <TABLE width="100%" cellpadding="3">
                                <TR>
                                    <TD style="width: 1%;">
                                        <IMG src="img/edit.gif" alt="">
                                    </TD>
                                    <TD style="width: 1%;" class="bold nobr">
                                        {trans("Format type:")}
                                    </TD>
                                    <TD style="width: 98%;" class="nobr">
                                        <INPUT type="radio" name="format" value="1" id="format1"> <label for="format1">{trans("multi file zip archive (lms legacy format)")}</label><br>
                                        <INPUT type="radio" name="format" value="2" id="format2" checked> <label for="format2">{trans("single csv file (uke siis format)")}</label>
                                    </TD>
                                </TR>
                            </TABLE>
                        </TD>
                        <TD class="fright container" style="width: 99%;">
                            <TABLE width="100%" cellpadding="3">
                                <TR>
                                    <TD style="width: 1%;">
                                        <IMG src="img/docum.gif" alt="">
                                    </TD>
                                    <TD style="width: 1%;" class="bold nobr">
                                        {trans("Exported sheets:")}
                                    </TD>
                                    <TD style="width: 98%;">
                                        {*<INPUT type="checkbox" name="sheets[dp]" id="sheets_dp" value="1" checked> <label for="sheets_dp">DP</label> *}
                                        <INPUT type="checkbox" name="sheets[proj]" id="sheets_proj" value="1" checked> <label for="sheets_proj">PROJ</label>
                                        <INPUT type="checkbox" name="sheets[ob]" id="sheets_ob" value="1" checked> <label for="sheets_ob">OB</label>
                                        <INPUT type="checkbox" name="sheets[ww]" id="sheets_ww" value="1" checked> <label for="sheets_ww">WW</label>
                                        <INPUT type="checkbox" name="sheets[wo]" id="sheets_wo" value="1" checked> <label for="sheets_wo">WO</label>
                                        <INPUT type="checkbox" name="sheets[int]" id="sheets_int" value="1" checked> <label for="sheets_int">INT</label>
                                        <INPUT type="checkbox" name="sheets[sr]" id="sheets_sr" value="1" checked> <label for="sheets_sr">SR</label>
                                        <INPUT type="checkbox" name="sheets[ps]" id="sheets_ps" value="1" checked> <label for="sheets_ps">PS</label>
                                        <INPUT type="checkbox" name="sheets[lp]" id="sheets_lp" value="1" checked> <label for="sheets_lp">LP</label>
                                        <INPUT type="checkbox" name="sheets[rl]" id="sheets_rl" value="1" checked> <label for="sheets_rl">RL</label>
                                        <INPUT type="checkbox" name="sheets[pol]" id="sheets_pol" value="1" checked> <label for="sheets_pol">POL</label>
                                        <INPUT type="checkbox" name="sheets[zas]" id="sheets_zas" value="1" checked> <label for="sheets_zas">ZAS</label>
                                        <INPUT type="checkbox" name="sheets[us]" id="sheets_us" value="1" checked> <label for="sheets_us">US</label>
                                    </TD>
                                </TR>
                            </TABLE>
                        </TD>
                    </TR>
                    <TR>
                        <TD style="width: 100%;" colspan="2" align="right">
                            <A href="javascript:document.printnetdev.submit();">{trans("Save")} <IMG src="img/save.gif" alt="" hspace="2"></A>
                        </TD>
                    </TR>
                </TBODY>
            </TABLE>
        </FORM>
        <SCRIPT type="text/javascript">
            <!--
        multiselect('printnetdev', 'invprojects', '{trans("- all -")}');
            //-->
        </SCRIPT>
    </P>
{/if}
{/block}
