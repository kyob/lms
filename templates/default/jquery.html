<link href="img/jqueryui/themes/base/jquery-ui.min.css" rel="stylesheet" type="text/css">
<link href="img/jquery-datetimepicker/build/jquery.datetimepicker.min.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="img/jquery/jquery.min.js"></script>
<script type="text/javascript" src="img/jqueryui/jquery-ui.min.js"></script>
<script type="text/javascript" src="img/jqueryui/ui/minified/i18n/datepicker-{$language}.js"></script>
<script type="text/javascript" src="img/jquery-datetimepicker/build/jquery.datetimepicker.full.min.js"></script>
<script type="text/javascript">
<!--
	$(function() {
		var autocomplete = "off";

		$('.calendar').datepicker({
			dateFormat: "yy/mm/dd"
		})
		.attr("autocomplete", autocomplete);

		$('.calendar-time').datetimepicker({
			lang: "{$language}",
			step: 30,
			closeOnDateSelect: true
		})
		.attr("autocomplete", autocomplete);

		$('[title]').each(function() {
			tooltipClass = "";
			if ($(this).hasClass("alert")) {
				tooltipClass += " alert";
				if ($(this).hasClass("bold"))
					tooltipClass += " bold";
			} else if ($(this).hasClass("bold"))
				tooltipClass += "bold";
			$(this).tooltip({
				show: { delay: 500 },
				track: true,
				tooltipClass: tooltipClass
			});
		});

		[
			{ class: 'invoiceinfo', url: '?m=invoiceinfo&id='},
			{ class: 'docnumber', url: '?m=number&id='},
			{ class: 'customerinfo', url: '?m=customerinfoshort&id='},
			{ class: 'nodelist', url: '?m=nodelistshort&id='},
			{ class: 'ewxnodelist', url: '?m=ewxnodelist&id='},
			{ class: 'rtticketinfo', url: '?m=rtticketinfo&id='},
			{ class: 'customerassignmentinfo', url: '?m=customerassignmentinfo&id='},
			{ class: 'nodegroupinfo', url: '?m=nodeinfo&nodegroups=1&id='},
			{ class: 'netdevlist', url: '?m=ewxdevlist&id='}
		].forEach(function(popup) {
			$('.' + popup.class).tooltip({
				items: '.' + popup.class,
				tooltipClass: popup.class,
				content: function(callback) {
					var elem = $(this);
					var resourceid = elem.attr('data-resourceid');
					$.ajax(popup.url + resourceid, {
						async: true,
						success: function(data) {
							callback(data);
						}
					});
				}
			});
		});
	});
//-->
</script>
